{"level":"error","message":"Forced shutdown due to timeout","service":"shop-management-api","timestamp":"2025-08-02 12:37:34","version":"2.0.0"}
{"companyId":"6845147f3f012c95e10e4323","error":"Regular expression is invalid: missing terminating ] for character class","ip":"127.0.0.1","level":"error","message":"Failed to retrieve parties list","query":{"companyId":"6845147f3f012c95e10e4323","includeChatFields":"true","includeLinked":"false","limit":"20","page":"1","populate":"linkedCompanyId","search":"la[","sortBy":"name","sortOrder":"asc","type":"customer"},"responseTime":6,"service":"shop-management-api","stack":"MongoServerError: Regular expression is invalid: missing terminating ] for character class\n    at Connection.onMessage (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at /Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/node_modules/mongodb/lib/cmap/message_stream.js:147:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-03 12:00:38","userId":"684325fb769fc9190846750c","version":"2.0.0"}
{"error":"user.generateAccessToken is not a function","level":"error","message":"Error generating user tokens","service":"shop-management-api","timestamp":"2025-08-03 15:34:58","userId":"684325fb769fc9190846750c","version":"2.0.0"}
{"error":"user.generateAccessToken is not a function","level":"error","message":"Error sending user response","service":"shop-management-api","statusCode":200,"timestamp":"2025-08-03 15:34:58","userId":"684325fb769fc9190846750c","version":"2.0.0"}
{"error":"user.generateAccessToken is not a function","ip":"127.0.0.1","level":"error","message":"Login error","responseTime":285,"service":"shop-management-api","stack":"TypeError: user.generateAccessToken is not a function\n    at generateUserTokens (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/controllers/authController.js:146:30)\n    at sendUserResponse (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/controllers/authController.js:183:47)\n    at login (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/controllers/authController.js:496:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/routes/authRoutes.js:396:7","timestamp":"2025-08-03 15:34:58","version":"2.0.0"}
{"error":"user.generateAccessToken is not a function","level":"error","message":"Error generating user tokens","service":"shop-management-api","timestamp":"2025-08-03 15:35:00","userId":"684325fb769fc9190846750c","version":"2.0.0"}
{"error":"user.generateAccessToken is not a function","level":"error","message":"Error sending user response","service":"shop-management-api","statusCode":200,"timestamp":"2025-08-03 15:35:00","userId":"684325fb769fc9190846750c","version":"2.0.0"}
{"error":"user.generateAccessToken is not a function","ip":"127.0.0.1","level":"error","message":"Login error","responseTime":231,"service":"shop-management-api","stack":"TypeError: user.generateAccessToken is not a function\n    at generateUserTokens (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/controllers/authController.js:146:30)\n    at sendUserResponse (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/controllers/authController.js:183:47)\n    at login (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/controllers/authController.js:496:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/src/routes/authRoutes.js:396:7","timestamp":"2025-08-03 15:35:00","version":"2.0.0"}
{"error":"AuditLog validation failed: action: `PARTY_CREATED` is not a valid enum value for path `action`., resourceType: `Party` is not a valid enum value for path `resourceType`.","level":"error","logData":{"action":"PARTY_CREATED","companyId":"68935d198cafd48110391064","details":{"companyName":"Vaman Computers","createdAt":"2025-08-06T13:49:35.261Z","isLinkedSupplier":true,"linkedCompanyId":"689319d2292075a599dcdf08","name":"Vaman Computers","partyType":"supplier","phoneNumber":"9503738049"},"ipAddress":"127.0.0.1","resourceId":"68935d6f8cafd481103911b1","resourceType":"Party","severity":"low","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","userId":"68935cd08cafd48110391031"},"message":"Failed to create audit log","service":"shop-management-api","stack":"ValidationError: AuditLog validation failed: action: `PARTY_CREATED` is not a valid enum value for path `action`., resourceType: `Party` is not a valid enum value for path `resourceType`.\n    at Document.invalidate (/Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/node_modules/mongoose/lib/document.js:3012:17\n    at /Users/atharva_beast/Desktop/Coading/Shop_Manegment/Backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-06 19:19:35","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 20:04:03","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 2 failed","retryCount":2,"service":"shop-management-api","timestamp":"2025-08-06 20:04:07","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 3 failed","retryCount":3,"service":"shop-management-api","timestamp":"2025-08-06 20:04:15","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 20:08:01","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 20:08:04","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 2 failed","retryCount":2,"service":"shop-management-api","timestamp":"2025-08-06 20:08:08","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 3 failed","retryCount":3,"service":"shop-management-api","timestamp":"2025-08-06 20:08:16","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 20:08:52","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 20:08:55","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 2 failed","retryCount":2,"service":"shop-management-api","timestamp":"2025-08-06 20:08:59","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 3 failed","retryCount":3,"service":"shop-management-api","timestamp":"2025-08-06 20:09:07","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 20:10:00","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 20:10:02","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 2 failed","retryCount":2,"service":"shop-management-api","timestamp":"2025-08-06 20:10:06","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 3 failed","retryCount":3,"service":"shop-management-api","timestamp":"2025-08-06 20:10:14","version":"2.0.0"}
{"error":"Cannot call `users.findOne()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.","ip":"127.0.0.1","level":"error","message":"Token refresh error","responseTime":2,"service":"shop-management-api","timestamp":"2025-08-06 20:25:47","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 21:06:55","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 21:06:57","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 2 failed","retryCount":2,"service":"shop-management-api","timestamp":"2025-08-06 21:07:01","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 1 failed","retryCount":1,"service":"shop-management-api","timestamp":"2025-08-06 21:09:31","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 2 failed","retryCount":2,"service":"shop-management-api","timestamp":"2025-08-06 21:09:35","version":"2.0.0"}
{"cluster":"MongoDB Atlas","error":"option buffermaxentries is not supported","level":"error","maxRetries":3,"message":"Atlas connection attempt 3 failed","retryCount":3,"service":"shop-management-api","timestamp":"2025-08-06 21:09:43","version":"2.0.0"}
